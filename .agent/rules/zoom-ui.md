---
trigger: always_on
---

# UI/UX 및 인터랙션 규칙 (UI Rules)

이 문서는 인플루언서 맵 서비스의 시각적 일관성과 사용자 경험을 유지하기 위한 가이드라인과 기술적 구현 규칙을 정의합니다.

## 1. 버튼 배치 및 동적 높이 조절 (Button Positioning)
바텀 패널의 상태에 따라 플로팅 버튼(메뉴)과 줌 컨트롤 버튼의 위치를 동적으로 조정하여 콘텐츠 가림을 방지합니다.

- **상태별 Y 오프셋 (y-offset)**:
  - **기본 상태 (`!selectedDistrict`)**: `70` (하단 패널 바로 위 배치)
  - **검색/로딩/결과 있음**: `-80` (사용자 카드 또는 검색 UI 위로 이동)
  - **검색 결과 없음**: `-10` (안내 메시지 상단 배치)
- **통합 로직**: "검색 중", "데이터 로딩 중", "결과 있음" 상태는 동일한 높이 요구사항을 가지므로 로직을 통합하여 관리합니다.

## 2. 시각적 연속성 (Visual Continuity)
데이터 로드 전후의 레이아웃 변화를 최소화하여 사용자에게 부드러운 전환을 제공합니다.

- **스켈레톤 매칭 (Skeleton Matching)**:
  - 로딩 시 보여주는 **스켈레톤 카드**와 실제 **사용자 프로필 카드**의 높이는 반드시 일치해야 합니다 (현재 기준 `156px`).
- **상태 동기화**:
  - `isSearching`, `isLoadingData`와 같은 UI 상태 변수는 전역 스토어(`region_store.ts`)에서 관리하여, 서로 다른 컴포넌트에 있는 버튼들이 동시에 유기적으로 움직이도록 합니다.

## 3. 프리미엄 인터랙션 (Premium Interaction)
앱의 반응성을 높여 '착 달라붙는' 느낌의 프리미엄 UI를 지향합니다.

- **애니메이션 설정 (Framer Motion)**:
  - 버튼 및 레이아웃 이동 시 **Spring** 타입을 사용합니다.
  - **Stiffness**: `350` (높은 탄성으로 빠른 반응성 제공)
  - **Damping**: `30` (적절한 감쇠로 과도한 흔들림 방지)
- **지도 센터링 (Map Centering)**:
  - 상세 지역 진입 시 지도가 시각적으로 중앙에 오도록 오프셋 조정을 수행합니다.
  - 현재 최적화 값: `x: 110, y: 110` (기기 중앙에서 바텀 시트 높이를 고려한 위치)

## 4. 햅틱 피드백 (Haptic Feedback)
주요 인터랙션에는 반드시 물리적 피드백을 제공합니다.

- **Tick**: 메뉴 열기, 단순 선택 (`tickWeak`)
- **Tap**: 결과 클릭, 좋아요 클릭 (`tap`)
- **Success**: 등록 완료, 중요한 상태 변경 (`success`)
